@using SiFoodProjectFormal2._0.ViewModels.Users;
@model JoinUsViewModel

<!-- 引用Layout -->
@{
    Layout = "_Layout";
}

<!-- Title -->
@{
    ViewData["Title"] = "加入我們";
}

<!-- CSS -->
@section Styles{
<!-- Required meta tags -->

    <link href="~/assets/libs/dropzone/dist/min/dropzone.min.css" rel="stylesheet">
    <!-- Favicon icon-->
    <link rel="shortcut icon" type="image/x-icon" href="~/assets/images/favicon/favicon.ico">


    <!-- Libs CSS -->
    <link href="~/assets/libs/bootstrap-icons/font/bootstrap-icons.min.css" rel="stylesheet">
    <link href="~/assets/libs/feather-webfont/dist/feather-icons.css" rel="stylesheet">
    <link href="~/assets/libs/simplebar/dist/simplebar.min.css" rel="stylesheet">


    <!-- Theme CSS -->
    <link rel="stylesheet" href="~/assets/css/theme.min.css">
@*     <link href="~/assets/libs/prismjs/themes/prism-okaidia.min.css" rel="stylesheet"> *@

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-M8S4MT3EYG"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-M8S4MT3EYG');
    </script>

    @* <script>
        document.addEventListener("DOMContentLoaded", function() {
    var myDropzone = new Dropzone(".profile-dropzone", {
        // 其他配置選項
    });
});
    </script> *@

    @* <!-- 自己加的CSS，改最後按鈕的位置 -->
    <style>
        /* 這裡加入自定義樣式 */
        .btn-primary {
            position: relative; /* 調整位置 */
            left: auto; /* 將左偏移設置為自動 */
            right: auto; /* 將右偏移設置為自動 */
            display: block; /* 使按鈕顯示為塊級元素 */
            margin-left: 220px; /* 左邊距自動 */
            margin-right: auto; /* 右邊距自動 */
            /* 添加其他需要的樣式規則 */
        }
    </style> *@


    <!-- End Tag -->


}

<main>
    <!-- section -->

    <section class="my-lg-14 my-8">
        <!-- container -->
        <div class="container">
            <div class="row">
                <!-- col -->
                <div class="offset-lg-2 col-lg-8 col-12">
                    <div class="mb-14">
                        <!-- heading -->
                        <h1 class="h3">加入我們</h1>
                        <p class="lead mb-0">送出後，須待一至兩天審核，</p>
                        <P class="lead mb-0">如審核成功，將寄出審核成功信件至信箱;</P>
                        <P class="lead mb-0">未審核成功，我們也將會寄出信件告知，謝謝~</P>
                    </div>




                    <!-- form -->
                    <form asp-action="JoinUsCreat" class="row" id="myForm">
                        <div asp-validation-summary="ModelOnly" class="text-danger"></div>

                        <!-- input -->

                        @*<div class="col-md-6 mb-3">
                        <label class="form-label" for="fname"> 聯絡人姓名<span class="text-danger">*</span></label>
                        <input type="text" id="fname" class="form-control" name="fname" placeholder="請輸入一位負責聯繫的人員姓名"
                        required>
                        </div>
                        <!-- 這段改寫成下面那段-->
                        *@

                        <div class="col-md-6 mb-3">
                            <label class="form-label" for="contactName">聯絡人姓名<span class="text-danger">*</span></label>
                            <input asp-for="ContactName" class="form-control"  placeholder="請輸入一位負責聯繫的人員姓名" />
                            <span asp-validation-for="ContactName" class="text-danger"></span>
                        </div>


                        <!-- input -->
                        @*<div class="col-md-6 mb-3">
                        <label class="form-label" for="lname"> 平台顯示店名<span class="text-danger">*</span></label>
                        <input type="text" id="lname" class="form-control" name="lname" placeholder="請輸入您在惜食平台要顯示的店名名稱"
                        required>
                        </div>
                        <!-- 這段改寫成下面那段-->
                        *@

                        <div class="col-md-6 mb-3">
                            <label class="form-label" for="storeName">店名<span class="text-danger">*</span></label>
                            <input asp-for="StoreName" class="form-control" autocomplete="organization" placeholder="請輸入您在惜食平台欲顯示的店名名稱" />
                            <span asp-validation-for="StoreName" class="text-danger"></span>
                        </div>



                        <!-- <div class="col-md-12 mb-3"> -->
                        <!-- input -->
                        <!-- <label class="form-label" for="title"> Title</label><span class="text-danger">*</span> -->
                        <!-- <input type="text" id="title" name="title" class="form-control" placeholder="Your Title" required> -->
                        <!-- </div> -->

                        @*
                        <div class="col-md-6 mb-3">
                        <!-- input -->
                        <label class="form-label" for="phone"> 聯絡電話<span class="text-danger">*</span></label>
                        <input type="text" id="phone" name="phone" class="form-control" placeholder="請輸入聯絡電話" required
                        pattern="[0-9]{3}-[0-9]{2}-[0-9]{3}" required>
                        </div>

                        <div class="col-md-6 mb-3">
                        <!-- input -->
                        <label class="form-label" for="taxID">公司統編<span class="text-danger">*</span></label>
                        <input type="text" id="" name="" class="form-control" placeholder="請輸入統編" required>
                        </div>

                        <div class="col-md-6 mb-3">
                        <!-- input -->
                        <label class="form-label" for="taxID">營業日<span class="text-danger">*</span></label>
                        <input type="text" id="" name="" class="form-control" placeholder="請輸入營業日" required>
                        </div>

                        <div class="col-md-6 mb-3">
                        <!-- input -->
                        <label class="form-label" for="taxID">營業時間<span class="text-danger">*</span></label>
                        <input type="text" id="" name="" class="form-control" placeholder="請輸入營業時間" required>
                        </div>

                        <div class="col-md-12 mb-3">
                        <!-- input -->
                        <label class="form-label" for="company">店家地址<span class="text-danger">*</span></label>
                        <input type="text" id="company" name="company" class="form-control" placeholder="請輸入完整地址"
                        required>
                        </div>

                        <div class="col-md-12 mb-3">
                        <label class="form-label" for="emailContact">註冊信箱<span class="text-danger">*</span></label>
                        <input type="email" id="emailContact" name="emailContact" class="form-control"
                        placeholder="請輸入email信箱地址" required>
                        </div>


                        <div class="col-md-12 mb-3">
                        <!-- input -->
                        <label class="form-label" for="comments">店家介紹<span class="text-danger">*</span></label>
                        <textarea rows="3" id="comments" class="form-control" placeholder="請輸入150字內的店家介紹"></textarea>
                        </div>

                        *@

                        <div class="col-md-6 mb-3">
                            <label class="form-label" for="phone">聯絡電話<span class="text-danger">*</span></label>
                            <input asp-for="Phone" class="form-control" id="phone" placeholder="0912345678" />
                            <span asp-validation-for="Phone" class="text-danger"></span>
                        </div>

                        <div class="col-md-6 mb-3">
                            <label class="form-label" for="taxID">公司統編<span class="text-danger">*</span></label>
                            <input asp-for="TaxId" class="form-control" id="taxID" placeholder="請輸入統編" />
                            <span asp-validation-for="TaxId" class="text-danger"></span>
                        </div>

                        <div class="col-md-6 mb-3">
                            <label class="form-label" for="openingDay">營業日<span class="text-danger">*</span></label>
                            <input asp-for="OpeningDay" class="form-control" id="openingDay" placeholder="例:星期一" />
                            <span asp-validation-for="OpeningDay" class="text-danger"></span>
                        </div>

                        <div class="col-md-6 mb-3">
                            <label class="form-label" for="openingTime">營業時間<span class="text-danger">*</span></label>
                            <input asp-for="OpeningTime" class="form-control" id="openingTime" type="time" placeholder="請輸入營業時間" />
                            <span asp-validation-for="OpeningTime" class="text-danger"></span>
                        </div>


                        <div class="col-md-6 mb-3">
                            <label class="form-label" for="city">店家地址-市<span class="text-danger">*</span></label>
                            <input asp-for="City" class="form-control" autocomplete="address-level2" placeholder="請輸入臺北市或新北市" />
                            <span asp-validation-for="City" class="text-danger"></span>
                        </div>

                        <div class="col-md-6 mb-3">
                            <label class="form-label" for="region">店家地址-區<span class="text-danger">*</span></label>
                            <input asp-for="Region" class="form-control" autocomplete="address-level3" placeholder="請輸入區，例:大安區" />
                            <span asp-validation-for="Region" class="text-danger"></span>
                        </div>


                        <div class="col-md-12 mb-3">
                            <label class="form-label" for="address">店家地址<span class="text-danger">*</span></label>
                            <input asp-for="Address" class="form-control" autocomplete="address-line3" placeholder="例:重慶南路一段122號" />
                            <span asp-validation-for="Address" class="text-danger"></span>
                        </div>

                        <div class="col-md-12 mb-3">
                            <label class="form-label" for="emailContact">註冊信箱<span class="text-danger">*</span></label>
                            <input asp-for="Email" class="form-control" id="emailContact" type="email" placeholder="請輸入email信箱地址" />
                            <span asp-validation-for="Email" class="text-danger"></span>
                        </div>

                        <div class="col-md-12 mb-3">
                            <label class="form-label" for="comments">店家介紹<span class="text-danger">*</span></label>
                            <textarea asp-for="Description" class="form-control" id="comments" placeholder="請輸入150字內的店家介紹" rows="3"></textarea>
                            <span asp-validation-for="Description" class="text-danger"></span>
                        </div>



                        @*<div class="col-md-12 mb-3">
                        <!-- input -->
                        <label class="form-label" for="comments">備註</label>
                        <textarea rows="3" id="comments" class="form-control" placeholder="我想說..."></textarea>
                        </div>*@






                        <!-- form control -->

                        <div class="py-4 mb-4">
                            <h4 class="mb-5 h5">請上傳您的LOGO</h4>
                            <div class="mb-4 d-flex">
                                <div class="position-relative">
                                    <img class="image  icon-shape icon-xxxl bg-light rounded-4"
                                        src="~/images/users/elly/uploadstorephoto.svg" alt="Image">

                                    <div class="file-upload position-absolute end-0 top-0 mt-n2 me-n1">
                                        <input type="file" class="file-input ">
                                        <span class="icon-shape icon-sm rounded-circle bg-white">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12"
                                                fill="currentColor" class="bi bi-pencil-fill text-muted"
                                                viewBox="0 0 16 16">
                                                <path
                                                    d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z" />
                                            </svg>
                                        </span>
                                    </div>
                                </div>
                            </div>

                            @* 店家照片上傳3張安排 *@

                           

                            <div class="border-bottom py-4 mb-4">
                                <h4 class="mb-5 h5">請上傳您的店家照片</h4>

                                <div class="row">
                                    <!-- 第一個上傳元素 -->
                                    <div class="col-md-4">
                                        <div class="mb-4 d-flex">
                                            <div class="position-relative">
                                                <img class="image  icon-shape icon-xxxl bg-light rounded-4"
                                                    src="~/assets/images/icons/bakery.svg" alt="Image">

                                                <div class="file-upload position-absolute end-0 top-0 mt-n2 me-n1">
                                                    <input type="file" class="file-input ">
                                                    <span class="icon-shape icon-sm rounded-circle bg-white">

                                                        <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12"
                                                            fill="currentColor" class="bi bi-pencil-fill text-muted"
                                                            viewBox="0 0 16 16">
                                                            <path
                                                                d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z" />
                                                        </svg>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>



                                    </div>
                                    <!-- 第二個上傳元素 -->
                                    <div class="col-md-4">
                                        <div class="mb-4 d-flex">
                                            <div class="position-relative">
                                                <img class="image  icon-shape icon-xxxl bg-light rounded-4"
                                                    src="~/assets/images/icons/bakery.svg" alt="Image">

                                                <div class="file-upload position-absolute end-0 top-0 mt-n2 me-n1">
                                                    <input type="file" class="file-input ">
                                                    <span class="icon-shape icon-sm rounded-circle bg-white">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12"
                                                            fill="currentColor" class="bi bi-pencil-fill text-muted"
                                                            viewBox="0 0 16 16">
                                                            <path
                                                                d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z" />
                                                        </svg>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- 第三個上傳元素 -->
                                    <div class="col-md-4">
                                        <div class="mb-4 d-flex">
                                            <div class="position-relative">
                                                <img class="image  icon-shape icon-xxxl bg-light rounded-4"
                                                    src="~/assets/images/icons/bakery.svg" alt="Image">

                                                <div class="file-upload position-absolute end-0 top-0 mt-n2 me-n1">
                                                    <input type="file" class="file-input ">
                                                    <span class="icon-shape icon-sm rounded-circle bg-white">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12"
                                                            fill="currentColor" class="bi bi-pencil-fill text-muted"
                                                            viewBox="0 0 16 16">
                                                            <path
                                                                d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z" />
                                                        </svg>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>


                            @*
                            從新增商品拿
                            *@

                          @*   <div>
                                <div class="mb-3 col-lg-12 mt-5">
                                  <!-- heading -->
                                  <h4 class="mb-3 h5">新增商品</h4>

                                  <!-- input -->
                                  <form action="#" class="dropzone profile-dropzone dz-clickable ">
                                    <div class="dz-default dz-message" >
                                      <input name="file" type="file" multiple>
                                    </div>
                                  </form>
                                </div>
                              </div>


                                    <div class="border-bottom py-4 mb-4">
                                        <h5>Add a photo or video</h5>
                                        <p>Shoppers find images and videos more helpful than text alone.</p>
                                        <div id="my-dropzone" class="dropzone mt-4 border-dashed rounded-2 min-h-0">
                                        </div>
                                    </div>

                                  
                                    <!-- form control -->

                                    <div class="border-bottom py-4 mb-4">
                                        <h5>上傳您的品牌LOGO</h5>
                                        <p>16x16</p>
                                        <!-- form -->
                                        <form action="#" class="dropzone profile-dropzone dz-clickable">
                                            <div class="dz-default dz-message"><button class="dz-button"
                                                    type="button">瀏覽檔案位置</button></div>
                                        </form>
                                    </div>


                                    <!-- form control -->
                                    <div class="border-bottom py-4 mb-4">
                                        <h5>上傳您的店家照片3-1</h5>
                                        <p>32x32</p>
                                        <!-- form -->
                                        <form action="#" class="dropzone profile-dropzone dz-clickable">
                                            <div class="dz-default dz-message"><button class="dz-button"
                                                    type="button">瀏覽檔案位置</button></div>
                                        </form>
                                    </div>

                                    <!-- form control -->
                                    <div class="border-bottom py-4 mb-4">
                                        <h5>上傳您的店家照片3-2</h5>
                                        <p>32x32</p>
                                        <!-- form -->
                                        <form action="#" class="dropzone profile-dropzone dz-clickable">
                                            <div class="dz-default dz-message"><button class="dz-button"
                                                    type="button">瀏覽檔案位置</button></div>
                                        </form>
                                    </div>

                                    <!-- form control -->

                                    <div class="border-bottom py-4 mb-4">
                                        <h5>上傳您的店家照片3-3</h5>
                                        <p>32x32</p>
                                        <!-- form -->
                                        <form action="#" class="dropzone profile-dropzone dz-clickable">
                                            <div class="dz-default dz-message"><button class="dz-button"
                                                    type="button">瀏覽檔案位置</button></div>
                                        </form>
                                    </div>*@
<div class="col-md-6 mb-3">
                    <!-- btn -->
                    <button id="submitButton" type="submit" class="btn btn-primary">送出申請</button>
                </div>

                <!-- Modal -->
                <div class="modal fade" id="exampleModal-2" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">已成功送出申請!</h5>
                                </button>
                            </div>
                            <div class="modal-body">
                               請稍待一至二天審核，謝謝~
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-primary" data-bs-dismiss="modal" >好</button>
                            </div>
                        </div>
                    </div>
                </div>


                
               @*  <!-- 靜態modal -->
<div class="modal" tabindex="-1" role="dialog" id="exampleModal-2">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Modal title</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>Modal body text goes here.</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div> *@




                    </form>

                </div> 


                

            </div>
        </div>
        </div>

    </section>
</main>

@section Scripts{
    
     <!-- Javascript-->
    <script src="~/assets/libs/rater-js/index.js"></script>
  

    <!-- Libs JS -->
    <script src="~/assets/libs/jquery/dist/jquery.min.js"></script>
    <script src="~/assets/libs/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/assets/libs/simplebar/dist/simplebar.min.js"></script>

    <!-- Theme JS -->
    <script src="~/assets/js/theme.min.js"></script>
    <script src="~/assets/libs/quill/dist/quill.min.js"></script>
    <script src="~/assets/js/vendors/sidebarMenu.js"></script>

    <!-- jQuery驗證 -->
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>


<script>
    $(document).ready(function() {
        var form = $('#myForm');
        var submitButton = $('#submitButton');

        // 初始化表單驗證
        form.validate({
            onfocusout: function(element) { $(element).valid(); },
            onkeyup: function(element) { $(element).valid(); },
            onclick: function(element) { $(element).valid(); },
            ignore: ":hidden",
            errorPlacement: function(error, element) {
                error.insertAfter(element);
            }
        });

        // 處理表單提交
        form.on('submit', function(e) {
            e.preventDefault();

            if (form.valid()) {
                submitButton.prop('disabled', true);
                var formData = new FormData(this);

                fetch(this.action, {
                    method: 'POST',
                    body: formData
                })
                .then(response => {
                    if(response.ok) {
                        return response.json();
                    } else {
                        throw new Error('伺服器響應非 200 OK');
                    }
                })
                .then(data => {
                    $('#exampleModal-2').modal('show'); // 這裡才觸發模態窗口
                })
                .catch(error => {
                    console.error('錯誤:', error);
                })
                .finally(() => {
                    submitButton.prop('disabled', false);
                });
            } else {
                console.log('表單未通過驗證');
            }
        });
    });
</script>




}